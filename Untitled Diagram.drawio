<mxfile host="app.diagrams.net" modified="2022-08-04T21:23:06.288Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.134 Safari/537.36 Edg/103.0.1264.77" etag="9xatuBO4xiGvo7hCsKWF" version="20.2.3" type="github">
  <diagram id="kf_XZH1g2RH7kajxPQMX" name="Page-1">
    <mxGraphModel dx="4642" dy="4890" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="mo3ku-rc3HtsTC2HPsfC-4" value="insert vouchers" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mo3ku-rc3HtsTC2HPsfC-1" target="mo3ku-rc3HtsTC2HPsfC-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mo3ku-rc3HtsTC2HPsfC-1" value="crm-de-importer" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="714" y="125" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mo3ku-rc3HtsTC2HPsfC-5" value="read vouchers" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mo3ku-rc3HtsTC2HPsfC-2" target="mo3ku-rc3HtsTC2HPsfC-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mo3ku-rc3HtsTC2HPsfC-2" value="order-service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="154" y="125" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mo3ku-rc3HtsTC2HPsfC-3" value="db&lt;br&gt;voucher table" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="466" y="121" width="96" height="68" as="geometry" />
        </mxCell>
        <mxCell id="mo3ku-rc3HtsTC2HPsfC-6" value="TODO 2:&lt;br&gt;- add new field in the flatfile structure with 5 digits at the end&lt;br&gt;- save this new field in voucher table: easy_code" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="625" y="259" width="328" height="46" as="geometry" />
        </mxCell>
        <mxCell id="mo3ku-rc3HtsTC2HPsfC-7" value="TODO 1:&lt;br&gt;- add new field in voucher table: easy_code&lt;br&gt;- use this field to check the voucher request code" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="75" y="254" width="271" height="46" as="geometry" />
        </mxCell>
        <mxCell id="mo3ku-rc3HtsTC2HPsfC-8" value="TODO 3:&lt;br&gt;clean-up existing logic of easy code" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="120" y="420" width="199" height="32" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-13" value="/get basket" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-1" target="AvomZq_IEuszwX5cMWHC-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-16" value="send to crm" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-1" target="AvomZq_IEuszwX5cMWHC-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-40" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-1" target="AvomZq_IEuszwX5cMWHC-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-1" value="order-service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="432" y="-965" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-8" value="/ get cross-sells" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;sketch=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-2" target="AvomZq_IEuszwX5cMWHC-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-9" value="/ submit order&lt;br&gt;/ get offer&lt;br&gt;/ edit-order&lt;br&gt;/ vouchers&lt;br&gt;/ resubmit rejections&lt;br&gt;/ cancel order" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-2" target="AvomZq_IEuszwX5cMWHC-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-14" value="/ add/update/delete&lt;br&gt;items" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=1;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-2" target="AvomZq_IEuszwX5cMWHC-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-39" value="/get customer(+addresses)&lt;br&gt;/ preferred payment&lt;br&gt;/ consents&lt;br&gt;/ search customer" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-2" target="AvomZq_IEuszwX5cMWHC-38" edge="1">
          <mxGeometry x="-0.251" y="-31" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-43" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-2" target="AvomZq_IEuszwX5cMWHC-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-56" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-2" target="AvomZq_IEuszwX5cMWHC-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-2" value="WILIS-VIEW" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="99" y="-819.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-26" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;entryX=0;entryY=0;entryDx=17;entryDy=114;entryPerimeter=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-3" target="AvomZq_IEuszwX5cMWHC-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-200" y="-995" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-35" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-3" target="AvomZq_IEuszwX5cMWHC-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-3" value="feed-service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-260" y="-817.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-23" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=38;entryPerimeter=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-4" target="AvomZq_IEuszwX5cMWHC-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-68" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-779" y="-1023" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-4" value="product-exporter" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-496" y="-1102" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-19" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-5" target="AvomZq_IEuszwX5cMWHC-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-70" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-778" y="-1019" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-5" value="cross-sells-importer" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-496" y="-819.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-24" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.176;entryY=0.842;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-6" target="AvomZq_IEuszwX5cMWHC-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-69" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-778" y="-1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-6" value="stock-exporter" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-496" y="-1011" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-12" value="/ get&lt;br&gt;product&lt;br&gt;info" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-10" target="AvomZq_IEuszwX5cMWHC-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-10" value="Basket-service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="132" y="-1102" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-25" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=17;entryDy=38;entryPerimeter=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-11" target="AvomZq_IEuszwX5cMWHC-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-28" style="shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=none;strokeColor=default;endFill=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-11" target="AvomZq_IEuszwX5cMWHC-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-60" y="-1234" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-11" value="PDS" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-120" y="-1102" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-33" value="send delete trigger event&lt;br&gt;to delete reserved order" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.675;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-15" target="AvomZq_IEuszwX5cMWHC-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-46" value="send status" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-15" target="AvomZq_IEuszwX5cMWHC-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-48" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-15" target="AvomZq_IEuszwX5cMWHC-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-52" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-15" target="AvomZq_IEuszwX5cMWHC-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-53" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-15" target="AvomZq_IEuszwX5cMWHC-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-54" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-15" target="AvomZq_IEuszwX5cMWHC-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-15" value="crm-de-exporter" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="656" y="-965" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-22" value="stream" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.frame;dx=10;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-244" y="-1109" width="17" height="152" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-30" value="/ send delete trigger event" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-29" target="AvomZq_IEuszwX5cMWHC-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint y="-1294" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-29" value="reservations cleaner lambda&lt;br&gt;(every 6 hours)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="387" y="-1310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-32" value="/ send delete reserved order" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-31" target="AvomZq_IEuszwX5cMWHC-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint y="-1264" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-31" value="reserved orders cleaner lambda" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="636" y="-1243" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-34" value="stream" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.frame;dx=10;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-345" y="-837" width="17" height="99" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-36" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;stock-reservation.kt&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-116" y="-1279" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-38" value="customer-service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="402" y="-691" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-42" value="address-check-service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-32" y="-691" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-45" value="/ update status" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classicThin;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-44" target="AvomZq_IEuszwX5cMWHC-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-44" value="update LL order&lt;br&gt;status lambda" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="656" y="-791" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-72" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1151.666666666667" y="-989.3333333333333" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-47" value="update-order submodule" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="946" y="-1127" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-71" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=228;entryDy=60;entryPerimeter=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;" parent="1" target="AvomZq_IEuszwX5cMWHC-65" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1150" y="-989" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1150" y="-251" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-73" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-49" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1150.333333333333" y="-992" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-49" value="create-order submodule" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="946" y="-1049" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-74" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1149" y="-992" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-50" value="cancel-order&lt;br&gt;submodule" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="946" y="-973" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-75" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1147.666666666667" y="-990.6666666666667" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-51" value="voucher-exporter" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="946" y="-897" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-55" value="product search service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-193" y="-691" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-58" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=none;endFill=0;strokeColor=default;dashed=1;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-57" target="AvomZq_IEuszwX5cMWHC-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-57" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;- update customer info&lt;br&gt;- create address&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;align=left;" parent="1" vertex="1">
          <mxGeometry x="1159" y="-1243" width="235" height="49" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-61" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;shadow=0;dashed=1;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=none;endFill=0;strokeColor=default;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="1" source="AvomZq_IEuszwX5cMWHC-60" target="AvomZq_IEuszwX5cMWHC-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-60" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;- create customer&lt;br&gt;- update customer info&lt;br&gt;- create address&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;align=left;" parent="1" vertex="1">
          <mxGeometry x="1274" y="-1176" width="235" height="49" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-66" value="export customers" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=1;entryDx=0;entryDy=0;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-65" target="AvomZq_IEuszwX5cMWHC-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-67" style="edgeStyle=none;shape=connector;rounded=0;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;endFill=1;strokeColor=default;" parent="1" source="AvomZq_IEuszwX5cMWHC-65" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-782" y="-1026" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-774" y="-252" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AvomZq_IEuszwX5cMWHC-65" value="CRM" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="412" y="-311" width="228" height="100" as="geometry" />
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-7" value="&lt;div style=&quot;text-align: left&quot;&gt;{&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;sku: 123456&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;&lt;b&gt;&lt;font color=&quot;#660033&quot;&gt;erpStatus: SELLABLE&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;}&lt;/div&gt;" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="QBPP9DDHIpxsTmfMudKZ-1" target="QBPP9DDHIpxsTmfMudKZ-2" edge="1">
          <mxGeometry x="-0.0699" y="6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-1" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;PDS&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-977" y="-2334" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-8" value="&lt;div style=&quot;text-align: left&quot;&gt;{&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;sku: 123456&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;isSellable: true&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;}&lt;/div&gt;" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="QBPP9DDHIpxsTmfMudKZ-2" target="QBPP9DDHIpxsTmfMudKZ-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-2" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;basket service&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-511" y="-2327" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="QBPP9DDHIpxsTmfMudKZ-3" target="moHjrgqNo80cG8yECoNa-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-80" y="-2163" />
              <mxPoint x="-18" y="-2163" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="QBPP9DDHIpxsTmfMudKZ-3" target="moHjrgqNo80cG8yECoNa-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-80" y="-2163" />
              <mxPoint x="-142" y="-2163" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-3" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;order service&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-140" y="-2327" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-4" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;wilis view&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="-199.5" y="-2077" width="114" height="58" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="QBPP9DDHIpxsTmfMudKZ-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-76.85715448288693" y="-2203" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-12" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;handle error response:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&amp;nbsp; key: basket_invalid&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; order_service_response.items[*].is_sellable,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=default;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="44" y="-2242" width="239" height="78" as="geometry" />
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-16" style="shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=none;strokeColor=default;elbow=vertical;dashed=1;exitX=0.635;exitY=0.131;exitDx=0;exitDy=0;exitPerimeter=0;endFill=0;" parent="1" source="QBPP9DDHIpxsTmfMudKZ-15" target="QBPP9DDHIpxsTmfMudKZ-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-741" y="-2215" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QBPP9DDHIpxsTmfMudKZ-15" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1. create basket with sales_channel attribute&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;(default is 04 (ECOM))&lt;br&gt;&lt;/span&gt;&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;br&gt;2. If x-request-source = phone_bot -&amp;gt; sales_channel = 01 (TV)&lt;br&gt;&lt;br&gt;&lt;br&gt;----------------------------------------------------------------------&lt;br&gt;Special case for wilis: an agent can select 01 or 04:&lt;br&gt;&lt;br&gt;1. create basket request with sales_channel value&lt;br&gt;&amp;nbsp; &amp;nbsp; POST /bs {sku, quantity, sales_channel}&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;2. Add endpoint to change the basket_sales_channel&lt;/span&gt;&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; PATCH /bs/change-sales_channel&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;align=left;verticalAlign=middle;fillColor=#FFF2F7;strokeColor=#A50040;fontStyle=1;spacingTop=0;spacingLeft=27;fontColor=#080808;" parent="1" vertex="1">
          <mxGeometry x="-872" y="-2135" width="471" height="249" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-1" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-weight: normal;&quot; color=&quot;#006633&quot;&gt;/pds/stock-reservation&lt;/font&gt;&lt;font color=&quot;#99004d&quot;&gt;?sales_channel = dbBasket.salesChanne&lt;/font&gt;&lt;font style=&quot;font-weight: normal;&quot; color=&quot;#006633&quot;&gt;l&lt;/font&gt;&lt;/div&gt;" style="edgeStyle=none;shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=#82b366;curved=1;dashed=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;fontStyle=1;fillColor=#d5e8d4;strokeWidth=1;" parent="1" source="QBPP9DDHIpxsTmfMudKZ-2" target="QBPP9DDHIpxsTmfMudKZ-1" edge="1">
          <mxGeometry x="-0.0205" y="37" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-705" y="-2444" />
            </Array>
            <mxPoint as="offset" />
            <mxPoint x="-130" y="-2316.933014354067" as="sourcePoint" />
            <mxPoint x="-441" y="-2317" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-2" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;checkout-react-app&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-199.5" y="-2144" width="114" height="58" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-3" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;android app&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-199.5" y="-2011" width="114" height="58" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-5" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;next-checkout-app&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-74.5" y="-2144" width="114" height="58" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-6" value="hello-app ?" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-74.5" y="-2077" width="114" height="58" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-8" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;IOS app&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-74.5" y="-2011" width="114" height="58" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-14" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;get basket&lt;/font&gt;&lt;/div&gt;" style="edgeStyle=none;shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=#000000;endArrow=classic;curved=1;dashed=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;fontStyle=0;strokeWidth=1;" parent="1" source="QBPP9DDHIpxsTmfMudKZ-3" target="QBPP9DDHIpxsTmfMudKZ-2" edge="1">
          <mxGeometry x="0.1021" y="22" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-272" y="-2412" />
            </Array>
            <mxPoint as="offset" />
            <mxPoint x="-471" y="-2317" as="sourcePoint" />
            <mxPoint x="-877" y="-2324" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-16" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.443;entryY=-0.044;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#080808;endArrow=none;endFill=0;strokeWidth=1;dashed=1;dashPattern=1 1;" parent="1" source="moHjrgqNo80cG8yECoNa-15" target="QBPP9DDHIpxsTmfMudKZ-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-15" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;activate check of ERP status basing on request source if consumers did not yet handle the result, example:&lt;br&gt;&lt;br&gt;IF SOURCE = BACKOFFICE&lt;br&gt;&amp;nbsp; &amp;nbsp; ITEM_IS_SELLABLE = STOCK_AVAILABLE &amp;amp; ERP_STATUS_SELLABLE&lt;br&gt;ELSE&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;ITEM_IS_SELLABLE = STOCK_AVAILABLE&lt;/span&gt;&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;align=left;verticalAlign=middle;fillColor=#FFF2F7;strokeColor=#A50040;fontStyle=1;spacingTop=0;spacingLeft=27;fontColor=#080808;" parent="1" vertex="1">
          <mxGeometry x="-619" y="-2621" width="471" height="124" as="geometry" />
        </mxCell>
        <mxCell id="moHjrgqNo80cG8yECoNa-17" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;div&gt;if the consumers already implemented a default way to display error response details,&lt;/div&gt;&lt;div&gt;so we can provide the text error for example:&amp;nbsp;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;key: basket_invalid,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;items[*].is_sellable&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;i&gt;&lt;b&gt;detail:&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;products 111, 222, 333 are not sellable, please remove them&lt;/span&gt;&lt;/b&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=default;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="73" y="-2059" width="434" height="104" as="geometry" />
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-1" value="&lt;div style=&quot;text-align: left&quot;&gt;{&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;sku: 123456&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;&lt;b&gt;&lt;font color=&quot;#660033&quot;&gt;erpStatus: SELLABLE&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;}&lt;/div&gt;" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KsSlLmv8AjtMtLB3dRpK-2" target="KsSlLmv8AjtMtLB3dRpK-4" edge="1">
          <mxGeometry x="-0.0699" y="6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-2" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;PDS&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-3334" y="-2736" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-3" value="&lt;div style=&quot;text-align: left&quot;&gt;{&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;sku: 123456&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;isSellable: true&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;}&lt;/div&gt;" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="KsSlLmv8AjtMtLB3dRpK-4" target="KsSlLmv8AjtMtLB3dRpK-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-4" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;basket service&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-2979" y="-2731" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-23" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KsSlLmv8AjtMtLB3dRpK-7" target="KsSlLmv8AjtMtLB3dRpK-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-7" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;order service&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-2608" y="-2731" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-8" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;wilis view&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="-2409" y="-2723" width="114" height="76" as="geometry" />
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-11" style="shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=none;strokeColor=default;elbow=vertical;dashed=1;exitX=0.635;exitY=0.131;exitDx=0;exitDy=0;exitPerimeter=0;endFill=0;" parent="1" source="KsSlLmv8AjtMtLB3dRpK-12" target="KsSlLmv8AjtMtLB3dRpK-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-3209" y="-2619" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-12" value="&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;Special case: an agent can select 01 or 04:&lt;br&gt;&lt;/span&gt;&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;br&gt;&amp;nbsp; 1. create basket with sales_channel attribute&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;(default: null)&lt;br&gt;&lt;/span&gt;&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;br&gt;&lt;br&gt;&amp;nbsp;2. create basket request with sales_channel value&lt;br&gt;&amp;nbsp; &amp;nbsp; POST /bs {sku, quantity, sales_channel}&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;&amp;nbsp;3. Add endpoint to change the basket_sales_channel&lt;/span&gt;&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; PATCH /bs/change-sales_channel&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;align=left;verticalAlign=middle;fillColor=#FFF2F7;strokeColor=#A50040;fontStyle=1;spacingTop=0;spacingLeft=27;fontColor=#080808;" parent="1" vertex="1">
          <mxGeometry x="-3321" y="-2533" width="471" height="206" as="geometry" />
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-13" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font style=&quot;font-weight: normal;&quot; color=&quot;#006633&quot;&gt;/pds/stock-reservation&lt;/font&gt;&lt;font color=&quot;#99004d&quot;&gt;?sales_channel = dbBasket.salesChanne&lt;/font&gt;&lt;font style=&quot;font-weight: normal;&quot; color=&quot;#006633&quot;&gt;l&lt;/font&gt;&lt;/div&gt;" style="edgeStyle=none;shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=#82b366;curved=1;dashed=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;fontStyle=1;fillColor=#d5e8d4;strokeWidth=1;" parent="1" source="KsSlLmv8AjtMtLB3dRpK-4" target="KsSlLmv8AjtMtLB3dRpK-2" edge="1">
          <mxGeometry x="-0.0309" y="14" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-3091" y="-2832" />
            </Array>
            <mxPoint as="offset" />
            <mxPoint x="-2598" y="-2720.933014354067" as="sourcePoint" />
            <mxPoint x="-2909" y="-2721" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-19" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;get basket&lt;/font&gt;&lt;/div&gt;" style="edgeStyle=none;shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=#000000;endArrow=classic;curved=1;dashed=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;fontStyle=0;strokeWidth=1;" parent="1" source="KsSlLmv8AjtMtLB3dRpK-7" target="KsSlLmv8AjtMtLB3dRpK-4" edge="1">
          <mxGeometry x="0.1021" y="22" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2740" y="-2816" />
            </Array>
            <mxPoint as="offset" />
            <mxPoint x="-2939" y="-2721" as="sourcePoint" />
            <mxPoint x="-3345" y="-2728" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-25" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KsSlLmv8AjtMtLB3dRpK-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2737.3913361922555" y="-2665.521776282269" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KsSlLmv8AjtMtLB3dRpK-24" value="&lt;span style=&quot;color: rgb(8, 8, 8); font-family: helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 700; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;- is_sellable = erp_status equals to SELLABLE&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2883.004390285326" y="-2618.002651154891" width="293" height="36" as="geometry" />
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-1" value="&lt;div style=&quot;text-align: left&quot;&gt;{&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;sku: 123456&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;&lt;b&gt;&lt;font color=&quot;#660033&quot;&gt;sellable: FALSE,&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;b&gt;&lt;font color=&quot;#660033&quot;&gt;&amp;nbsp; &amp;nbsp;sellableTv: TRUE&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;b&gt;&lt;font color=&quot;#660033&quot;&gt;}&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kU40ni3NjUDqnk-KnC0v-2" target="kU40ni3NjUDqnk-KnC0v-4" edge="1">
          <mxGeometry x="-0.0699" y="6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-28" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=none;endFill=0;strokeColor=default;dashed=1;" parent="1" source="kU40ni3NjUDqnk-KnC0v-2" target="kU40ni3NjUDqnk-KnC0v-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-2" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;PDS&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-764" y="-3728" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-3" value="&lt;div style=&quot;text-align: left&quot;&gt;{&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;sku: 123456&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;isSellable: true&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;}&lt;/div&gt;" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" parent="1" source="kU40ni3NjUDqnk-KnC0v-4" target="kU40ni3NjUDqnk-KnC0v-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-4" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;basket service&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-298" y="-3721" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-7" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;order service&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="73" y="-3721" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-11" style="shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=none;strokeColor=default;elbow=vertical;dashed=1;exitX=0.635;exitY=0.131;exitDx=0;exitDy=0;exitPerimeter=0;endFill=0;" parent="1" source="kU40ni3NjUDqnk-KnC0v-12" target="kU40ni3NjUDqnk-KnC0v-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-528" y="-3609" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-12" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;Special case for wilis: an agent can select 01 or 04.&lt;br&gt;&lt;br&gt;possible solution:&lt;br&gt;&lt;br&gt;1. create basket request with sales_channel value&lt;br&gt;&amp;nbsp; &amp;nbsp; POST /bs {sku, quantity, sales_channel}&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;2. Add endpoint to change the basket_sales_channel&lt;/span&gt;&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; PATCH /bs/change-sales_channel&lt;br&gt;&lt;br&gt;So if dbBasket.channel is 01 we check sellableTv field&lt;br&gt;else we check sellable&lt;br&gt;&lt;br&gt;If dbBasket.channel is present then the source is WILIS&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;align=left;verticalAlign=middle;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;spacingTop=0;spacingLeft=27;fontColor=#333333;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-276.5" y="-3528" width="351.5" height="231" as="geometry" />
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-19" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;/get basket&lt;/font&gt;&lt;/div&gt;" style="edgeStyle=none;shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=#000000;endArrow=classic;curved=1;dashed=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;fontStyle=0;strokeWidth=1;" parent="1" source="kU40ni3NjUDqnk-KnC0v-7" target="kU40ni3NjUDqnk-KnC0v-4" edge="1">
          <mxGeometry x="0.1021" y="22" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-59" y="-3806" />
            </Array>
            <mxPoint as="offset" />
            <mxPoint x="-258" y="-3711" as="sourcePoint" />
            <mxPoint x="-664" y="-3718" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-23" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Product is sellable on shop/mobile...:&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-&amp;gt; when erp_status present&amp;nbsp;and erp_status is sellable and product_data are complete (xzinhou)&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-&amp;gt;&amp;nbsp; or when Mercator status different to specific&amp;nbsp;statuses&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;Product is sellable on wilis (can rely on request_source=backoffice):&lt;br&gt;&lt;/span&gt;for sales channel is E_COM&lt;br style=&quot;font-family: helvetica;&quot;&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;-&amp;gt; when erp_status is present&amp;nbsp;and erp_status is sellable&amp;nbsp; (we don&#39;t trust in Mercator&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;product data)&lt;/span&gt;&lt;br style=&quot;font-family: helvetica;&quot;&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;-&amp;gt; or when Mercator&amp;nbsp;status different to&amp;nbsp;specific&amp;nbsp;statuses&lt;br&gt;&lt;br&gt;&lt;/span&gt;for sales channel is TV&lt;br style=&quot;font-family: helvetica;&quot;&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;-&amp;gt; when erp_status_tv is present&amp;nbsp;and erp_status_tv is sellable&lt;/span&gt;&lt;br style=&quot;font-family: helvetica;&quot;&gt;&lt;span style=&quot;font-family: helvetica; font-size: 12px;&quot;&gt;-&amp;gt; or when Mercator&amp;nbsp;status different to&amp;nbsp;specific&amp;nbsp;statuses&lt;/span&gt;&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;align=left;verticalAlign=middle;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;spacingTop=0;spacingLeft=27;fontColor=#333333;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-1001.5" y="-3518" width="595" height="207" as="geometry" />
        </mxCell>
        <mxCell id="kU40ni3NjUDqnk-KnC0v-24" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;font&gt;/stock-reservation?source=xxx&lt;/font&gt;&lt;/div&gt;" style="edgeStyle=none;shape=connector;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=#000000;endArrow=classic;curved=1;dashed=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;fontStyle=0;strokeWidth=1;" parent="1" source="kU40ni3NjUDqnk-KnC0v-4" target="kU40ni3NjUDqnk-KnC0v-2" edge="1">
          <mxGeometry x="0.1021" y="22" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-448" y="-3820" />
            </Array>
            <mxPoint as="offset" />
            <mxPoint x="113" y="-3711" as="sourcePoint" />
            <mxPoint x="-198" y="-3711" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6IQjvzXITzOrh7kwbzv4-14" value="&lt;div style=&quot;text-align: left&quot;&gt;{&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;event_type: update_order_status&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp; &amp;nbsp;&lt;b&gt;&lt;font color=&quot;#660033&quot;&gt;...&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;}&lt;/div&gt;" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="6IQjvzXITzOrh7kwbzv4-15" target="6IQjvzXITzOrh7kwbzv4-17">
          <mxGeometry x="-0.0699" y="6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6IQjvzXITzOrh7kwbzv4-15" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;quot;helvetica&amp;quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;OMS&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-3564" y="-4026" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="6IQjvzXITzOrh7kwbzv4-16" value="transfer event" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;strokeColor=default;" edge="1" parent="1" source="6IQjvzXITzOrh7kwbzv4-17" target="6IQjvzXITzOrh7kwbzv4-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6IQjvzXITzOrh7kwbzv4-17" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;quot;helvetica&amp;quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(255 , 255 , 255) ; display: inline ; float: none&quot;&gt;order status lambda&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-3148" y="-4024" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="6IQjvzXITzOrh7kwbzv4-19" value="&lt;font face=&quot;helvetica&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;order service&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-2777" y="-4024" width="120" height="92" as="geometry" />
        </mxCell>
        <mxCell id="6IQjvzXITzOrh7kwbzv4-31" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=none;endFill=0;" edge="1" parent="1" source="6IQjvzXITzOrh7kwbzv4-30" target="6IQjvzXITzOrh7kwbzv4-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6IQjvzXITzOrh7kwbzv4-30" value="&lt;div style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;&quot;&gt;if event_type == reactivate_voucher&lt;/div&gt;&lt;div style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;&quot;&gt;&amp;nbsp; &amp;nbsp;POST /reactivate-voucher {orderNr, voucherCode, externalCustomerId}&lt;/div&gt;&lt;div style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;&quot;&gt;if event_type == update_order_status&lt;/div&gt;&lt;div style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;&quot;&gt;&amp;nbsp; &amp;nbsp;POST /update-order-status {orderId, status}&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-3302" y="-3851" width="419" height="75" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
